<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon"></meta>
    <link rel="canonical" href="https://tinysquare.page"></meta>
    <meta property="og:url" content="https://tinysquare.page"></meta>
    <meta property="og:type" content="website"></meta>
    <meta property="og:title" content="Tiny Square Page"></meta>
    <meta property="og:description" content="The internet's premier source for generating images of tiny, colored squares that you can copy and paste wherever you want."></meta>
    <meta property="og:image" content="https://tinysquare.page/share_image.png"></meta>
    <meta property="og:image:width" content="200"></meta>
    <meta property="og:image:height" content="200"></meta>
    <meta name="twitter:card" content="summary"></meta>
    <meta name="twitter:title" content="Tiny Square Page"></meta>
    <meta name="twitter:description" content="The internet's premier source for generating images of tiny, colored squares that you can copy and paste wherever you want."></meta>
    <meta name="twitter:creator" content="@coreyhaines"></meta>
    <meta name="twitter:image" content="https://tinysquare.page/share_image.png"></meta>
    <meta name="twitter:image:alt" content="Tiny Square Page"></meta>
    <title>Tiny Square Page</title>
    <link rel = "stylesheet" type = "text/css" href = "./styles.scss" inline="inline" /> 
<script>
window.tinySquare = {
  defaultColor: "FF6F61",
  defaultSize : "200",
  color: null,
  size: null,
};
function getColor() {
  return window.tinySquare.color;
}
function getSize() {
  return window.tinySquare.size;
}

function getColorFromParam() {
	const urlParams = new URLSearchParams(window.location.search);
	if(urlParams.has('color')) {
		return urlParams.get('color');
	}else{
		return window.tinySquare.defaultColor;
	}
}
function setColorFromParam() {
  window.tinySquare.color = getColorFromParam();
  return getColor();
}
function getColorFromPicker() {
  return document.getElementById('color-picker').value;
}
function setColorFromPicker() {
  window.tinySquare.color = getColorFromPicker();
  return getColor();
}
function getSizeFromParam() {
	const urlParams = new URLSearchParams(window.location.search);
	if(urlParams.has('size')) {
		const size = urlParams.get('size');
		return Math.ceil(parseInt(size));
	}else{
		return window.tinySquare.defaultSize;
	}
}
function setSizeFromParam() {
  window.tinySquare.size = getSizeFromParam();
  return getSize();
}

function onLoad() {
  const color = setColorFromParam();
  const size = setSizeFromParam();
  handleSizeAndColor(size, color);
}

function shouldAutoCopyDataUrl() {
	const urlParams = new URLSearchParams(window.location.search);
	return urlParams.has('autocopydataurl');
}
function copyDataURLToClipboard() {
	if(navigator.clipboard) {
		const canvas = document.getElementById('canvas');
		const dataURL = canvas.toDataURL();
		navigator.clipboard.writeText(dataURL);
	}
}

function colorPickerChange(e) {
  const color = setColorFromPicker();
  handleSizeAndColor(getSize(), color);
}
function initializeColorPicker(color) {
  const colorPicker = document.getElementById('color-picker');
  colorPicker.value = color;
  colorPicker.addEventListener("input", colorPickerChange);
  document.getElementById('color-display').addEventListener('click', function() { document.getElementById('color-picker').click(); });
}

function displayColorAndSize(color, size) {
  document.getElementById('color-display').innerText = color;
  document.getElementById('size-display').innerText = size;
}

function handleSizeAndColor(size, color) {
	const canvas = document.getElementById('canvas');
  color = color.startsWith("#") ? color : "#" + color;
	canvas.width = size;
	canvas.height = size;
	if (canvas.getContext) {
    const ctx = canvas.getContext('2d', { alpha: false });
		ctx.fillStyle = color;
		ctx.fillRect(0, 0, size, size);
    displayColorAndSize(color, size);
    initializeColorPicker(color);
		document.getElementById('dataurl-copy-button').style.backgroundColor = color;
		document.getElementById('download-image-button').style.backgroundColor = color;
		const dataUrl = canvas.toDataURL();
		const dataUrlTag = document.getElementById('dataurl');
		dataUrlTag.value = dataUrl;
		if(shouldAutoCopyDataUrl()){
			copyDataURLToClipboard();
		}
	}
}
function downloadTinySquare(el) {
	const canvas = document.getElementById('canvas');
	const image = canvas.toDataURL("image/jpg");
	const filename = 'tinysquare-'.concat(getColor(), '-', getSize().toString(), '.png');
	el.download = filename;
	el.href = image;
}
document.addEventListener("DOMContentLoaded", onLoad);
  </script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-596929-11"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-596929-11');
</script>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
  </head>
  <body>
    <h1>Welcome to tinysquare.page</h1>
    <h2>The internet's premier source for generating images of tiny, colored squares that you can copy and paste wherever you want.</h2>
    <p>Want a square with a custom color and size? Append size and color query parameters. Then just right-click on the square and choose "copy image". Colors are given without the "#", so black is "000000", not "#000000".</p>
    <p>Here is your square with size <span id='size-display'></span> and color <span id='color-display'></span> <input type='color' id='color-picker'>.
    </p>
    <canvas id="canvas"></canvas>
    <p>Here are some awesome examples from Pantone's Color of the Year selections.</p>
    <ul>
      <li><a href="https://tinysquare.page/?color=FF6F61&size=250">Pantone's Color Of The Year 2019 - Living Coral</a> (<a href="https://www.pantone.com/color-intelligence/color-of-the-year/color-of-the-year-2019" target="_blank" rel="noopener noreferrer">more info</a>)</li>
      <li><a href="https://tinysquare.page/?color=5F4B8B&size=250">Pantone's Color Of The Year 2018 - Ultra Violet</a> (<a href="https://www.pantone.com/color-intelligence/color-of-the-year/color-of-the-year-2018" target="_blank" rel="noopener noreferrer">more info</a>)</li>
      <li><a href="https://tinysquare.page/?color=88B04B&size=250">Pantone's Color Of The Year 2017 - Greenery</a> (<a href="https://www.pantone.com/color-intelligence/color-of-the-year/color-of-the-year-2017" target="_blank" rel="noopener noreferrer">more info</a>)</li>
    </ul>
    <div>
    <p>Here's the dataurl if you want to embed it<br>
    If you want to autocopy the dataurl to your clipboard, add a "autocopydataurl" query parameter.<a href="https://tinysquare.page/?color=FF6F61&size=150&autocopydataurl">example</a></p>
    <div>
			<div id='dataurl-copy-button' class='button' onclick='copyDataURLToClipboard();'>Copy dataurl to clipboard</div>
			<a id='download-image-button' class='button' download='tinysquare.png' href='' onclick='downloadTinySquare(this);'>Download Tiny Square Image</a>
		</div>
    <textarea id='dataurl' cols="100" rows="15"></textarea>
    </div>
    <p>Made with love by <a href="https://articles.coreyhaines.com/">Corey Haines</a></p>
    <p><a href="https://twitter.com/coreyhaines?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow me on twitter @coreyhaines</a><p>
    <p><a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-show-count="false" data-text="Ever need a tiny, square, colored image! Check out Tiny Square Page" data-via="coreyhaines">Share this on twitter</a></p>
    <h2>Testimonials</h2>
    <blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Like a Model-T Ford, only small and rectilinear</p>&mdash; rebelpig glumhippo (@tweet_pgblu) <a href="https://twitter.com/tweet_pgblu/status/1125783214663057408?ref_src=twsrc%5Etfw">May 7, 2019</a></blockquote>
    <blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">I am trying so hard to think of uses for a tiny colored square ...</p>&mdash; Ron Jeffries (@RonJeffries) <a href="https://twitter.com/RonJeffries/status/1125395824786268160?ref_src=twsrc%5Etfw">May 6, 2019</a></blockquote>
  </body>
</html>
